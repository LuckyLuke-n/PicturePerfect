<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:PicturePerfect.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" MinHeight="450" MinWidth="800" Height="600" Width="1200"
        x:Class="PicturePerfect.Views.MainWindow"
        Icon="/Assets/icon.ico"
        Title="Picture Perfect">

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>

	<!-- Styles for items in tab control https://docs.avaloniaui.net/docs/controls/tabcontrol -->
	<Window.Styles>
		<Style Selector="TabControl WrapPanel">
			<Setter Property="Background" Value="{Binding DarkColor}"/>
		</Style>

		<Style Selector="TabItem">
			<Setter Property="Background" Value="{Binding DarkColor}" />
			<Setter Property="Width" Value="200"/>
			<Setter Property="Padding" Value="10 0"/>
			<Setter Property="Foreground" Value="WhiteSmoke"/>
			<!-- Binding failes -->
		</Style>
		<!--
		<Style Selector="TabItem:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter	Property="Background" Value="DarkGray"/>
		</Style>
		-->

		<Style Selector="TabItem:focus">
			<Setter	Property="Background" Value="{Binding LightColor}"/>
			<Setter Property="Padding" Value="10 0"/>
			<Setter Property="Foreground" Value="{Binding LightFontColor}"/>
		</Style>

		<Style Selector="TabItem:selected">
			<Setter	Property="Background" Value="Gray"/>
			<!-- Binding failes -->
			<Setter Property="Padding" Value="10 0"/>
			<Setter Property="Foreground" Value="{Binding LightFontColor}"/>
		</Style>
		<!--
		<Style Selector="TabItem:selected /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="Gray"/>
		</Style>
		-->
	</Window.Styles>

	<!-- Main grid -->
	<Grid ColumnDefinitions="auto,*" RowDefinitions="auto,*,auto">

		<Border Grid.Column="0" Grid.Row="0" Background="{Binding DarkColor}"/>
		<Border Grid.Column="0" Grid.Row="2" Background="{Binding DarkColor}"/>
		<Border Grid.Column="1" Grid.Row="2" Background="{Binding LightColor}"/>


		<!-- ROW 1: Tab Control and all their child elements -->
		<TabControl Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0" Grid.RowSpan="2" TabStripPlacement="Left" Background="{Binding MediumColor}">
			<!-- Meal plan tab -->
			<TabItem Name="itemTabMealPlan" Header="Meal plan" IsSelected="True" Margin="0,75,0,0">
				<Grid ColumnDefinitions="2.5*,5*,75,75" RowDefinitions="*,*,*,*,*,*,0.25*,*,*">
					<!-- Headline -->
					<ComboBox Grid.Column="0" Grid.Row="0" SelectedItem="CW1" Margin="0,10,0,0" FontSize="{Binding LargeFontSize}" HorizontalAlignment="Stretch"/>
					<Label Grid.Column="1" Grid.Row="0" Content="Meal plan" Margin="10,10,0,0" FontSize="{Binding LargeFontSize}"/>
					<Button Grid.Column="2" Grid.Row="0" Margin="10,10,0,0">
						<Image Source="/Assets/dices.png"/>
					</Button>
					<Button Grid.Column="3" Grid.Row="0" Margin="10,10,0,0">
						<Image Source="/Assets/save.png"/>
					</Button>
					<!-- COLUMN 0: Days -->
					<Label Content="Monday" Grid.Column="0" Grid.Row="1" FontSize="{Binding LargeFontSize}"/>
					<Label Content="Tuesday" Grid.Column="0" Grid.Row="2" FontSize="{Binding LargeFontSize}"/>
					<Label Content="Wednesday" Grid.Column="0" Grid.Row="3" FontSize="{Binding LargeFontSize}"/>
					<Label Content="Thursday" Grid.Column="0" Grid.Row="4" FontSize="{Binding LargeFontSize}"/>
					<Label Content="Friday" Grid.Column="0" Grid.Row="5" FontSize="{Binding LargeFontSize}"/>
					<Label Content="Saturday" Grid.Column="0" Grid.Row="7" FontSize="{Binding LargeFontSize}" Margin="0,0,0,0"/>
					<Label Content="Sunday" Grid.Column="0" Grid.Row="8" FontSize="{Binding LargeFontSize}"/>
				</Grid>
			</TabItem>
			<!-- Meal database tab -->
			<TabItem Name="itemTabMealDatabase" Header="Meals">
				<!-- sub grid -->
				<Grid ColumnDefinitions="*" RowDefinitions="*,auto">
					<!-- DataGrid -->
					<DataGrid VerticalAlignment="Stretch" Margin="0, 10, 0, 10" HorizontalAlignment="Stretch" Grid.Row="0"
							  BorderBrush="{Binding DarkColor}" BorderThickness="1" Background="{Binding MediumColor}">
						<DataGrid.Columns>
							<DataGridTextColumn Header="Title" Width="4*"/>
							<DataGridTextColumn Header="Rating" Width="*"/>
							<DataGridTextColumn Header="Effort" Width="*"/>
						</DataGrid.Columns>
					</DataGrid>
					<!-- Buttons -->
					<StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0, 0, 0, 10">
						<Button ToolTip.Tip="Add a new meal to your database.">
							<Image Source="/Assets/new_meal.png" Height="40" Width="125"/>
						</Button>
						<Button ToolTip.Tip="Check or edit the selected meal.">
							<Image Source="/Assets/properties.png" Height="40"/>
						</Button>
						<Button ToolTip.Tip="Delete the selected meal.">
							<Image Source="/Assets/delete.png" Height="40"/>
						</Button>
					</StackPanel>
				</Grid>
			</TabItem>
			<!-- Ingredients database tab -->
			<TabItem Header="Ingredients">
				<!-- sub grid -->
				<Grid ColumnDefinitions="*" RowDefinitions="*,auto">
					<!-- DataGrid -->
					<DataGrid VerticalAlignment="Stretch" Margin="0, 10, 0, 10" HorizontalAlignment="Stretch" Grid.Row="0"
							  BorderBrush="{Binding DarkColor}" BorderThickness="1" Background="{Binding MediumColor}">
						<DataGrid.Columns>
							<DataGridTextColumn Header="Name" Width="*"/>
							<DataGridTextColumn Header="Comment" Width="2*"/>
						</DataGrid.Columns>
					</DataGrid>
					<!-- Buttons -->
					<StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0, 0, 0, 10">
						<Button ToolTip.Tip="Add a new ingredient to your database.">
							<Image Source="/Assets/new_meal.png" Height="40" Width="125"/>
						</Button>
						<Button ToolTip.Tip="Check or edit the selected ingredient.">
							<Image Source="/Assets/properties.png" Height="40"/>
						</Button>
						<Button ToolTip.Tip="Delete the selected ingredient.">
							<Image Source="/Assets/delete.png" Height="40"/>
						</Button>
					</StackPanel>
				</Grid>
			</TabItem>
			<!-- Settings tab -->
			<TabItem Header="Settings"/>
		</TabControl>

		<!-- ROW 2: Info button -->
		<Button Content="Info" Grid.Row="2" CornerRadius="0" Padding="20, 5"
				Width="{Binding Width, ElementName=itemTabMealPlan, Mode=OneWay}"
				Background="{Binding DarkColor}" FontSize="{Binding LargeFontSize}" Foreground="{Binding LightFontColor}" FontWeight="Light">
		</Button>

		<!-- ROW 2: Date and week entry -->
		<StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
			<Label Content="{Binding Date}" Margin="0,0,10,0"/>
			<Label Content="{Binding CalendarWeek}" Margin="0,0,10,0"/>
		</StackPanel>

		<!-- ROW 0: Seach box over other elements -->
		<StackPanel Name="stackPlanelSearch" Orientation="Horizontal" Grid.Row="0" Grid.Column="0" Margin="10,5,0,0">
			<Image Source="/Assets/search.png" Height="25" Margin="5,0,5,0"/>
			<TextBox Text="" Background="{Binding DarkContrastColor}"
					 CornerRadius="0" BorderThickness="0" Margin="1" Width="150"
					 ToolTip.Tip="Type your search query here.">
			</TextBox>
		</StackPanel>


	</Grid>


</Window>
